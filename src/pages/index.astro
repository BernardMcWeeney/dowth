---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import MoonPhase from '../components/MoonPhase.astro';
import SunPosition from '../components/SunPosition.astro';
import Timeline from '../components/Timeline.astro';
import Footer from '../components/Footer.astro';
---

<Layout>
  <!-- Background Image with Overlay -->
  <div class="fixed inset-0 bg-cover bg-center z-[-1] brightness-75 transition-all duration-[2000ms]" style="background-image: url('/dowth-background.jpg')"></div>
  <div class="fixed inset-0 bg-gradient-to-b from-black/40 to-black/70 z-[-1]"></div>
  
  <!-- Main Content -->
  <div class="min-h-screen flex flex-col">
    <main class="flex-1 flex flex-col justify-center items-center text-center px-4 pt-16 pb-8 relative">
      <!-- Title Section -->
      <h1 class="font-cinzel text-[clamp(3rem,15vw,6rem)] font-bold mb-2 tracking-wider text-white drop-shadow-lg transition-all duration-700 hover:tracking-widest">
        Dowth
      </h1>
      <p class="text-[clamp(1rem,4vw,1.5rem)] font-light italic mb-6 text-amber-100 drop-shadow-md transition-opacity duration-1000">
        <em>Dubhadh</em> ('darkening')
      </p>
      
      <p class="max-w-lg text-center text-white/90 leading-relaxed">
        An ancient passage tomb in the Boyne Valley, Ireland.
      </p>
    </main>
  
  <!-- Sun Position Component -->
  <SunPosition />
  
  <!-- Moon Phase Component -->
  <MoonPhase />
  
  <!-- Timeline Component visible at bottom of screen -->
  <Timeline />
  
  <!-- Footer -->
  <Footer />
  </div>
</Layout>

<script>
  // Subtle background effect on scroll
  window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY;
    const background = document.querySelector('.bg-cover');
    
    if (background) {
      // Subtle zoom and brightness effect on scroll
      const scale = 1 + (scrollPosition * 0.0002);
      const brightness = 0.75 - (scrollPosition * 0.0002);
      background.style.transform = `scale(${Math.min(scale, 1.15)})`;
      background.style.filter = `brightness(${Math.max(brightness, 0.5)})`;
    }
  });
</script>